<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>공통국어2 학습지 - 봄봄</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { margin: 0; padding: 20px; font-family: 'Inter', sans-serif; line-height: 1.6; background-color: #f3f4f6; color: #374151; font-size: 12pt; }
        .container { max-width: 800px; margin: 20px auto; padding: 30px; background-color: #ffffff; border-radius: 12px; border: 1px solid #e5e7eb; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); }
        .header-section { background-color: #f9fafb; padding: 20px 30px; margin: -30px -30px 20px -30px; border-top-left-radius: 12px; border-top-right-radius: 12px; border-bottom: 1px solid #e5e7eb; text-align: center; }
        .header-section h1 { font-size: 1.875rem; font-weight: 700; color: #1f2937; }
        .header-section .author-text { font-size: 1.125rem; color: #4b5563; }
        blockquote { margin: 1em 0; padding: 1rem; border-left-width: 4px; border-color: #d1d5db; font-style: normal; color: #4b5563; background-color: #f3f4f6; border-radius: 8px; white-space: pre-wrap; }
        p { margin-bottom: 1em; }
        p:last-child { margin-bottom: 0; }
        mark { padding: 0.2em 0.4em; border-radius: 4px; }
        .footer-text { text-align: right; color: #6b7280; margin-top: 30px; font-size: 0.9em; }
        .interactive-abbr { text-decoration: underline dotted; cursor: pointer; color: #1e40af; font-weight: 600; transition: color 0.2s; }
        .interactive-abbr:hover { color: #F97316; }
        .ox-choice { display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: background-color .2s; }
        .problem-wrapper{margin:16px 0;padding:20px;border:2px solid;border-radius:12px}.problem-header{font-size:1.1em;font-weight:700;color:#1e3a8a;margin:-20px -20px 16px;padding:12px 20px;background-color:#fff;border-bottom:2px solid;border-top-left-radius:10px;border-top-right-radius:10px}.problem-example-box{margin:12px 0;padding:12px;border:1px solid #e5e7eb;border-radius:6px;background-color:#fff;font-size:.95em;color:#4b5563}.problem-choices .choice-item{display:flex;align-items:center;margin:1px 0;padding:5px 8px;border-radius:4px;cursor:pointer;transition:background-color .2s,transform .2s}.problem-choices .choice-item:hover{background-color:#eef2ff;transform:translateX(2px)}.problem-choices .choice-item.correct{background-color:#dcfce7!important;color:#166534;font-weight:700}.problem-choices .choice-item.incorrect{background-color:#fee2e2;color:#991b1b}.problem-choices .choice-item .choice-text{text-decoration:none}.problem-choices .choice-item.incorrect .choice-text{text-decoration:line-through}.problem-answer-section{margin-top:16px;padding-top:12px;border-top:1px dashed #d1d5db;font-size:.95em;color:#4b5563}.feedback-message-box{margin-top:12px;padding:10px;border-radius:6px;font-weight:700;text-align:center}.essay-answer-input{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;min-height:80px;margin-top:8px}.check-problem-btn{background-color:#60a5fa;color:#fff;padding:8px 12px;border:none;border-radius:6px;cursor:pointer;transition:background-color .2s;white-space:nowrap}.check-problem-btn:hover{background-color:#3b82f6}.check-problem-btn:disabled{background-color:#a5b4fc;cursor:not-allowed}.blank-input{border:1px solid #9ca3af;border-radius:4px;padding:2px 4px;text-align:center;width:100px;margin:0 4px}.blank-input.correct{background-color:#dcfce7;border-color:#16a34a}.blank-input.incorrect{background-color:#fee2e2;border-color:#dc2626}.toggle-wrapper{margin:16px 0;border:2px solid;border-radius:12px;transition:background-color .2s;overflow:hidden}.toggle-title{cursor:pointer;padding:12px 20px;font-weight:600;color:#374151;display:flex;justify-content:space-between;align-items:center;list-style:none;background-color:#fff}.toggle-wrapper[open]>.toggle-title{border-bottom:2px solid}.toggle-title::-webkit-details-marker{display:none}.toggle-title::after{content:"▶";font-size:.8em;transition:transform .2s}.toggle-wrapper[open]>.toggle-title::after{transform:rotate(90deg)}.toggle-content{padding:20px;color:#4b5563}.custom-table{width:100%;border-collapse:collapse}.custom-table th,.custom-table td{border:1px solid #93c5fd;padding:8px 12px;text-align:left;vertical-align:top}.custom-table th{background-color:#dbeafe;font-weight:700}.ox-choice.correct{background-color:#dcfce7!important;border-color:#16a34a!important;color:#166534!important}.ox-choice.incorrect{background-color:#fee2e2!important;border-color:#dc2626!important;color:#991b1b!important}.problem-wrapper[data-type=ox-quiz] ol{list-style:none;padding-left:0}.ox-quiz-item{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid #e5e7eb}.ox-quiz-item:last-child{border-bottom:none}.ox-quiz-item .flex-grow{flex-grow:1}.ox-choices{display:flex;align-items:center;gap:8px;margin-left:16px;flex-shrink:0}.ox-choice{width:48px;height:48px;font-size:1.5rem;border-radius:9999px;display:inline-flex;align-items:center;justify-content:center;font-weight:700;background-color:#e5e7eb;color:#4b5563;cursor:pointer;transition:background-color .2s,transform .2s;border:none}.ox-choice:hover{transform:scale(1.05)}.problem-header.flex-header{display:flex;justify-content:space-between;align-items:center}.retry-btn{font-size:1.2rem;background-color:#e5e7eb;color:#374151;border-radius:9999px;padding:8px;line-height:1;border:none;cursor:pointer}.retry-btn:hover{background-color:#d1d5db}
    </style>
</head>
<body>
    <div class="container">
        <div class="header-section"><h1><i class="fas fa-language mr-2"></i> 공통국어2 학습지 - 봄봄</h1><div class="author-text">지은이: 김유정</div></div>
        <div class="main-content-body"><span class="interactive-abbr" data-title="제목인 '봄·봄'은 소설의 계절적 배경이자 만물이 생장하는 봄날에 피어나는 사춘기 남녀의 사랑을 인생의 봄으로 나타냄." data-original-text="봄·봄">봄·봄</span>                                                                                               <br>                                                                                                     ❚김유정<br><br><hr style="height:3px; border:none; background-color:#bfdbfe;"><br><mark style="background-color: #fef08a;">[김유정 봄·봄 줄거리 요약]<br></mark> 주인공 ‘나’는 장인의 집에서 사실상 머슴살이를 하는 데릴사위다. 그는 장인의 차녀 점순이와의 혼례만을 손꼽아 기다리지만, 장인은 “점순이의 키가 작다”는 이유를 대며 결혼을 미루고, 두 사람의 만남조차 제한한다.<br><br>사실 장인의 속셈은 다른 데 있다. 그는 이전에도 데릴사위를 들여 머슴처럼 부려먹다가 도망가게 만든 적이 많았고, 이번에는 순박하고 성실한 ‘나’를 붙잡아두려는 것이다. 장인에게 여러 차례 혼인을 요구해 보지만, 그때마다 약속은 무산된다.<br><br>그러던 어느 날, 점순이는 주인공에게 성례를 조르라고 재촉한다. 마침내 참지 못한 ‘나’는 장인에게 대들며 몸싸움을 벌인다. 하지만 기대와 달리 점순이는 아버지의 편에 서고, 주인공은 당황한다. 결국 장인은 또다시 “가을에는 꼭 성례를 시켜주겠다”는 약속을 하며 상황을 무마한다. 주인공은 그 말을 믿고 다시 일을 하러 나간다.<br><br><hr style="height:3px; border:none; background-color:#bfdbfe;"><br><br><span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="장인과 '나'의 갈등의 근본적 원인" data-original-text="“부려만 먹구 왜 성례 안 하지유!”">“부려만 먹구 왜 성례 안 하지유!”</span></span><br><br> 나는 이렇게 호령했다. 하지만 장인님이 선뜻 오냐 낼이라두 성례시켜 주마, 했으면 나도 성가신 걸 그만두었을지 모른다. 나야 이러면 때린 건 아니니까 나중에 장인 쳤다는 누명도 안 들을 터이고 얼마든지 해도 좋다.<br> 한번은 장인님이 헐떡헐떡 기어서 올라오더니 내 바짓가랑이를 요렇게 노리고서 단박 움켜잡고 내달렸다. 악, 소리를 치고 나는 그만 세상이 다 팽그르 도는 것이<br><br> “<span class="interactive-abbr" data-title="다른 사람의 장인을 이르는 말" data-original-text="빙장">빙장</span>님! 빙장님! 빙장님!”<br> “이 자식! 잡아먹어라, 잡아먹어!”<br> “아! 아! <span class="interactive-abbr" data-title="호칭의 변화→웃음 유발, 해학성 고조" data-original-text="할아버지"><span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;">할아버지</span></span>! 살려 줍쇼, 할아버지!”<br> <br> 하고 두 팔을 허둥지둥 내저을 적에는 이마에 진땀이 쭉 내솟고 인젠 참으로 죽나 보다 했다. 그래도 장인님은 놓질 않더니 내가 기어이 땅바닥에 쓰러져서 거의 까무러치게 되니까 놓는다.<span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="장인에 대한 적대감이 나타남." data-original-text="더럽다 더럽다.">더럽다 더럽다.</span></span> 이게 장인님인가.<br> 나는 한참을 못 일어나고 쩔쩔맸다. 그렇게 얼굴을 드니(눈에 참 아무것도 보이지 않았다.) 사지가 부르르 떨리면서 <span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="'나'의 복수→갈등이 절정에 이름." data-original-text="나도 엉금엉금 기어가 장인님의 바짓가랑이를꽉 움키고 잡아낚았다.">나도 엉금엉금 기어가 장인님의 바짓가랑이를꽉 움키고 잡아낚았다.</span></span><br> 내가 머리가 터지도록 매를 얻어맞은 것이 <span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="장인의 바짓가랑이를 움켜잡았기 때문에" data-original-text="이 때문이다.">이 때문이다.</span></span> <span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="어수룩하고 순수한 '나'" data-original-text="그러나 여기가 또한 우리 장인님이 유달리 착한 곳이다.">그러나 여기가 또한 우리 장인님이 유달리 착한 곳이다.</span></span> 여느 사람이면 사경을 주어서라도 당장 내쫓았지 터진 머리를 불솜으로 손수 지져 주고, 호주머니에 <span class="interactive-abbr" data-title="희연, 일제 강점기 때의 담배 이름. *시대적 배경을 나타내는 소재" data-original-text="히연">히연</span> 한 봉을 넣어 주고 그리고<br><br> <span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="장인의 회유, 감언이설" data-original-text="“올 갈엔 꼭 성례를 시켜 주마. 암말 말구 가서 뒷골의 콩밭이나 얼른 갈아라.”">“올 갈엔 꼭 성례를 시켜 주마. 암말 말구 가서 뒷골의 콩밭이나 얼른 갈아라.”</span></span>하고 등을 뚜덕여 줄 사람이 누구냐.<br> <span style="font-weight: bold; border: 2px solid #FBBF24; padding: 1px 4px; border-radius: 4px; background-color:#FEF08A;"><span class="interactive-abbr" data-title="'나'의 순박함이 드러남." data-original-text="나는 장인님이 너무나 고마워서 어느덧 눈물까지 났다.">나는 장인님이 너무나 고마워서 어느덧 눈물까지 났다.</span></span><br><br><!-- [서술형] Q. <봄·봄>에 등장하는 '나'의 어떤 성격을 지닌 인물일까요? --><br><div class="problem-wrapper" data-type="essay" style="background-color: #eff6ff; border-color: #93c5fd;"><div class="problem-header" style="border-color: #93c5fd;">Q. <봄·봄>에 등장하는 '나'의 어떤 성격을 지닌 인물일까요?</div><textarea class="essay-answer-input" placeholder="답안을 입력하세요..."></textarea><div style="text-align: right; margin-top: 8px;"><button class="check-problem-btn">모범 답안 확인</button></div><div class="problem-answer-section" style="display: none;"><p><b>모범 답안:</b></p><div class="model-answer-content">(점순이와 혼인하기 위해 장인에게 매번 이용당하는 것으로 보아) 어리숙하고 순진하다. </div></div></div><!-- end-problem-wrapper --><br><br><!-- [더보기] ★참고할 만한 지식: 풍자와 해학 --><br><details class="toggle-wrapper" style="background-color: #eff6ff; border-color: #93c5fd;"><summary class="toggle-title" style="border-color: #93c5fd;"><span style="margin-right: auto;">📖 ★참고할 만한 지식: 풍자와 해학</span></summary><div class="toggle-content"><b>＊대상을 과장하거나 왜곡하여 웃음을 불러일으키는 문학적 장치<br></b><b>＊풍자<br></b>-<span style="text-decoration: underline; text-decoration-color: red; text-decoration-thickness: 1px;">비판적</span> 웃음<br>-대상에 대한 부정적 인식을 바탕으로 함.<br>-작품 속에서 권력과 권위를 가진 주인공을 부정적으로 제시하고, 그의 모습을 과장하거나 왜곡하여 우스꽝스럽게 나타냄.<br><b>＊해학<br></b>-<span style="text-decoration: underline; text-decoration-color: red; text-decoration-thickness: 1px;">동정적</span> 웃음<br>-대상에 대한 연민과 애정을 바탕으로 함.<br>-작품 속에서 평범하거나 그 이하인 인물의 행위를 통해 희극적인 상황을 만들어 냄. </div></details><br><details class="toggle-wrapper" style="background-color: #eff6ff; border-color: #93c5fd;"><summary class="toggle-title" style="border-color: #93c5fd;"><span style="margin-right: auto;">🗣️ 구절풀이</span></summary><div class="toggle-content"><ul style="list-style-type: none; margin-left: 0; padding-left: 0; margin-top: 10px;"><li><b>봄·봄</b>: 제목인 '봄·봄'은 소설의 계절적 배경이자 만물이 생장하는 봄날에 피어나는 사춘기 남녀의 사랑을 인생의 봄으로 나타냄.</li><li><b>“부려만 먹구 왜 성례 안 하지유!”</b>: 장인과 '나'의 갈등의 근본적 원인</li><li><b>빙장</b>: 다른 사람의 장인을 이르는 말</li><li><b>할아버지</b>: 호칭의 변화→웃음 유발, 해학성 고조</li><li><b>더럽다 더럽다.</b>: 장인에 대한 적대감이 나타남.</li><li><b>나도 엉금엉금 기어가 장인님의 바짓가랑이를꽉 움키고 잡아낚았다.</b>: '나'의 복수→갈등이 절정에 이름.</li><li><b>이 때문이다.</b>: 장인의 바짓가랑이를 움켜잡았기 때문에</li><li><b>그러나 여기가 또한 우리 장인님이 유달리 착한 곳이다.</b>: 어수룩하고 순수한 '나'</li><li><b>히연</b>: 희연, 일제 강점기 때의 담배 이름. *시대적 배경을 나타내는 소재</li><li><b>“올 갈엔 꼭 성례를 시켜 주마. 암말 말구 가서 뒷골의 콩밭이나 얼른 갈아라.”</b>: 장인의 회유, 감언이설</li><li><b>나는 장인님이 너무나 고마워서 어느덧 눈물까지 났다.</b>: '나'의 순박함이 드러남.</li></ul></div></details></div>
        <div class="footer-text">juno v2.24</div>
    </div>
    <script>
        (
                (function() {
                    function setupInteractiveAbbr() {
                        const abbrElements = document.querySelectorAll('.interactive-abbr');
                        let currentPopup = null;
                        function closePopup() {
                            if (currentPopup) { currentPopup.remove(); currentPopup = null; }
                        }
                        abbrElements.forEach(span => {
                            span.addEventListener('click', function(event) {
                                event.stopPropagation();
                                closePopup();
                                const title = this.dataset.title;
                                const originalText = this.dataset.originalText;
                                const popupDiv = document.createElement('div');
                                popupDiv.style.cssText = "position: absolute; background-color: #f8fafc; border: 1px solid #cbd5e1; border-radius: 8px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); padding: 16px; width: 300px; z-index: 1000; font-family: 'Inter', sans-serif; font-size: 14px; line-height: 1.5; color: #334155; word-wrap: break-word;";
                                popupDiv.innerHTML = '<div style="font-weight: bold; margin-bottom: 8px; color: #1e40af;">' + originalText + '</div><div>' + title + '</div><button class="close-popup-btn" style="position: absolute; top: 8px; right: 8px; background: none; border: none; font-size: 18px; cursor: pointer; color: #64748b;">&times;</button>';
                                const rect = this.getBoundingClientRect();
                                let top = rect.bottom + window.scrollY + 5;
                                let left = rect.left + window.scrollX;
                                document.body.appendChild(popupDiv);
                                currentPopup = popupDiv;
                                if (left + popupDiv.offsetWidth > window.innerWidth) { left = window.innerWidth - popupDiv.offsetWidth - 20; }
                                if (top + popupDiv.offsetHeight > window.innerHeight + window.scrollY) { top = rect.top + window.scrollY - popupDiv.offsetHeight - 5; }
                                popupDiv.style.top = top + 'px';
                                popupDiv.style.left = left + 'px';
                                popupDiv.querySelector('.close-popup-btn').addEventListener('click', closePopup);
                            });
                        });
                        document.addEventListener('click', (event) => { if (currentPopup && !currentPopup.contains(event.target)) { closePopup(); } });
                        document.addEventListener('keydown', (event) => { if (event.key === 'Escape') { closePopup(); } });
                    }
                    
                    function setupInteractiveProblems() {
                        document.querySelectorAll('.problem-wrapper').forEach(wrapper => {
                            const type = wrapper.dataset.type;
                            
                            const showFeedback = (message, color, bgColor, context) => {
                                const controlContainer = context.querySelector('.problem-controls');
                                if (controlContainer) {
                                    const checkBtn = controlContainer.querySelector('.check-problem-btn');
                                    let feedbackBox = controlContainer.querySelector('.feedback-message-box');
                                    if (!feedbackBox) {
                                        feedbackBox = document.createElement('div');
                                        feedbackBox.className = 'feedback-message-box';
                                        controlContainer.appendChild(feedbackBox);
                                    }
                                    feedbackBox.textContent = message;
                                    feedbackBox.style.color = color;
                                    feedbackBox.style.backgroundColor = bgColor;
                                    feedbackBox.style.marginTop = '8px';
                                    feedbackBox.style.marginBottom = '0';
                                    feedbackBox.style.padding = '8px';
                                    feedbackBox.style.textAlign = 'center';
                                    feedbackBox.style.borderRadius = '6px';
                                    feedbackBox.style.fontSize = '0.9em';
                                    feedbackBox.style.lineHeight = '1.4';
                                    if (checkBtn) {
                                        feedbackBox.style.width = checkBtn.offsetWidth + 'px';
                                    }
                                } else {
                                    let feedbackBox = context.querySelector('.feedback-message-box');
                                    if (!feedbackBox) {
                                        feedbackBox = document.createElement('div');
                                        feedbackBox.className = 'feedback-message-box';
                                        context.appendChild(feedbackBox);
                                    }
                                    feedbackBox.textContent = message;
                                    feedbackBox.style.color = color;
                                    feedbackBox.style.backgroundColor = bgColor;
                                }
                            };

                            if (type === 'essay') {
                                const btn = wrapper.querySelector('.check-problem-btn');
                                const answerSection = wrapper.querySelector('.problem-answer-section');
                                const textarea = wrapper.querySelector('.essay-answer-input');
                                btn.addEventListener('click', () => {
                                    answerSection.style.display = 'block';
                                    btn.style.display = 'none';
                                    textarea.disabled = true;
                                });
                            } else if (type === 'fill-blank') {
                                const retryBtn = wrapper.querySelector('.retry-btn');
                                const resetProblem = () => {
                                    wrapper.querySelectorAll('li').forEach(item => {
                                        item.dataset.attempts = '3';
                                        item.querySelectorAll('.blank-input').forEach(input => {
                                            input.value = '';
                                            input.classList.remove('correct', 'incorrect');
                                            input.disabled = false;
                                        });
                                        const checkBtn = item.querySelector('.check-problem-btn');
                                        if (checkBtn) checkBtn.style.display = 'block';
                                        item.querySelector('.feedback-message-box')?.remove();
                                    });
                                };
                                if (retryBtn) retryBtn.addEventListener('click', resetProblem);

                                wrapper.querySelectorAll('li').forEach(item => {
                                    item.dataset.attempts = '3';
                                    const btn = item.querySelector('.check-problem-btn');
                                    const inputs = item.querySelectorAll('.blank-input');
                                    const answers = JSON.parse(item.dataset.answers.replace(/&#39;/g, "'") || '[]');
                                    const context = item;

                                    btn?.addEventListener('click', () => {
                                        let attempts = parseInt(item.dataset.attempts, 10);
                                        if (attempts <= 0) return;
                                        let allCorrect = true;

                                        inputs.forEach((input, index) => {
                                            const isCorrect = input.value.trim() === answers[index];
                                            input.classList.toggle('correct', isCorrect);
                                            input.classList.toggle('incorrect', !isCorrect);
                                            if (!isCorrect) allCorrect = false;
                                        });

                                        if (allCorrect) {
                                            showFeedback('정답입니다! 🎉', '#166534', '#dcfce7', context);
                                            inputs.forEach(input => { input.disabled = true; });
                                            btn.style.display = 'none';
                                        } else {
                                            attempts--;
                                            item.dataset.attempts = attempts;
                                            if (attempts > 0) {
                                                showFeedback('오답이 있습니다. (' + attempts + '번 남음)', '#991b1b', '#fee2e2', context);
                                            } else {
                                                showFeedback('아쉬워요. 정답을 확인해보세요! 💪', '#991b1b', '#fee2e2', context);
                                                inputs.forEach((input, i) => {
                                                    if (!input.classList.contains('correct')) {
                                                        input.value = answers[i];
                                                        input.style.width = 'auto';
                                                        input.size = input.value.length > 4 ? input.value.length + 2 : 6;
                                                    }
                                                    input.disabled = true;
                                                });
                                                btn.style.display = 'none';
                                            }
                                        }
                                    });
                                });
                            } else if (type === 'table-fill-blank') {
                                wrapper.dataset.attempts = '3';
                                const retryBtn = wrapper.querySelector('.retry-btn');
                                const btn = wrapper.querySelector('.check-problem-btn');
                                const inputs = wrapper.querySelectorAll('.blank-input');
                                const answers = JSON.parse(wrapper.dataset.answers.replace(/&#39;/g, "'") || '[]');
                                const context = wrapper.querySelector('.problem-controls') || wrapper;

                                const resetTable = () => {
                                    wrapper.dataset.attempts = '3';
                                    inputs.forEach(input => {
                                        input.value = '';
                                        input.classList.remove('correct', 'incorrect');
                                        input.disabled = false;
                                    });
                                    if(btn) btn.style.display = 'block';
                                    wrapper.querySelector('.feedback-message-box')?.remove();
                                };
                                if (retryBtn) retryBtn.addEventListener('click', resetTable);
                                
                                btn?.addEventListener('click', () => {
                                    let attempts = parseInt(wrapper.dataset.attempts, 10);
                                    if (attempts <= 0) return;
                                    let allCorrect = true;

                                    inputs.forEach((input, index) => {
                                        const isCorrect = input.value.trim() === answers[index];
                                        input.classList.toggle('correct', isCorrect);
                                        input.classList.toggle('incorrect', !isCorrect);
                                        if (!isCorrect) allCorrect = false;
                                    });

                                    if (allCorrect) {
                                        showFeedback('정답입니다! 🎉', '#166534', '#dcfce7', context);
                                        inputs.forEach(input => { input.disabled = true; });
                                        btn.style.display = 'none';
                                    } else {
                                        attempts--;
                                        wrapper.dataset.attempts = attempts;
                                        if (attempts > 0) {
                                            showFeedback('오답이 있습니다. (' + attempts + '번 남음)', '#991b1b', '#fee2e2', context);
                                        } else {
                                            showFeedback('아쉬워요. 정답을 확인해보세요! 💪', '#991b1b', '#fee2e2', context);
                                            inputs.forEach((input, i) => {
                                                if (!input.classList.contains('correct')) {
                                                    const answer = answers[i];
                                                    if (answer !== undefined) {
                                                        input.value = answer;
                                                        input.style.width = 'auto';
                                                        input.size = answer.length > 4 ? answer.length + 2 : 6;
                                                    }
                                                }
                                                input.disabled = true;
                                            });
                                            btn.style.display = 'none';
                                        }
                                    }
                                });
                            } else if (type === 'ox-quiz') {
                                const quizItems = wrapper.querySelectorAll('.ox-quiz-item');
                                const retryBtn = wrapper.querySelector('.retry-btn');

                                const setupQuizItems = () => {
                                    quizItems.forEach(item => {
                                        const choices = item.querySelectorAll('.ox-choice');
                                        const correctAnswer = item.dataset.correctAnswer;
                                        
                                        choices.forEach(choice => {
                                            if (choice.dataset.listenerAttached === 'true') return;
                                            choice.dataset.listenerAttached = 'true';

                                            choice.addEventListener('click', () => {
                                                const selectedAnswer = choice.textContent;
                                                const isCorrect = selectedAnswer === correctAnswer;
                                                
                                                item.querySelectorAll('.ox-choice').forEach(btn => {
                                                    btn.disabled = true;
                                                    if (btn.textContent === correctAnswer) {
                                                        btn.classList.add('correct');
                                                        btn.innerHTML = '✅';
                                                    }
                                                });

                                                if (!isCorrect) {
                                                    choice.classList.add('incorrect');
                                                    choice.innerHTML = '❌';
                                                }
                                            });
                                        });
                                    });
                                };

                                const resetQuiz = () => {
                                    quizItems.forEach(item => {
                                        item.querySelectorAll('.ox-choice').forEach((choice, index) => {
                                            choice.classList.remove('correct', 'incorrect');
                                            choice.disabled = false;
                                            choice.textContent = choice.classList.contains('o-btn') ? 'O' : 'X';
                                            delete choice.dataset.listenerAttached;
                                        });
                                    });
                                    setupQuizItems();
                                };

                                retryBtn.addEventListener('click', resetQuiz);
                                setupQuizItems();
                            } else if (type === 'multiple-choice') {
                                let mcAttempts = 2;
                                let solved = false;
                                const choices = wrapper.querySelectorAll('.choice-item');
                                const answerSection = wrapper.querySelector('.problem-answer-section');

                                choices.forEach(choice => {
                                    choice.addEventListener('click', () => {
                                        if (solved || choice.classList.contains('incorrect')) return;

                                        const isCorrect = choice.dataset.correct === 'true';

                                        if (isCorrect) {
                                            showFeedback('정답입니다! 🎉', '#166534', '#dcfce7', wrapper);
                                            choice.classList.add('correct');
                                            solved = true;
                                            choices.forEach(c => c.style.pointerEvents = 'none');
                                            if(answerSection) answerSection.style.display = 'block';
                                        } else {
                                            mcAttempts--;
                                            choice.classList.add('incorrect');
                                            choice.style.pointerEvents = 'none';

                                            if (mcAttempts > 0) {
                                                showFeedback('아쉽네요. 1번의 기회가 남았어요.', '#991b1b', '#fee2e2', wrapper);
                                            } else {
                                                showFeedback('오답입니다. 정답을 확인해보세요.', '#991b1b', '#fee2e2', wrapper);
                                                const correctChoice = wrapper.querySelector('.choice-item[data-correct="true"]');
                                                if(correctChoice) correctChoice.classList.add('correct');
                                                solved = true;
                                                choices.forEach(c => c.style.pointerEvents = 'none');
                                                if(answerSection) answerSection.style.display = 'block';
                                            }
                                        }
                                    });
                                });
                            }
                        });
                    }
                    window.addEventListener('load', () => { setupInteractiveAbbr(); setupInteractiveProblems(); });
                })()
            )()
    </script>
</body></html>