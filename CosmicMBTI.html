import React, { useState } from 'react';
import { RefreshCw, ArrowRight, Star, Sparkles, Moon, Sun, Globe, Home } from 'lucide-react';

// --- ë°ì´í„° ë° ìƒìˆ˜ ì •ì˜ ---

// MBTIë³„ í–‰ì„± ë§¤ì¹­ ë°ì´í„°
const PLANET_RESULTS = {
  ESTP: { name: 'ëª©ì„± (Jupiter)', icon: 'ğŸª', title: 'ê±°ì¹¨ì—†ëŠ” ëª¨í—˜ê°€', desc: 'íƒœì–‘ê³„ì˜ í° í˜•ë‹˜! ì••ë„ì ì¸ ì¡´ì¬ê°ê³¼ í–‰ë™ë ¥ìœ¼ë¡œ ìš°ì£¼ë¥¼ íœ˜ì “ê³  ë‹¤ë‹ˆëŠ” ë‹¹ì‹ ì€ ëª©ì„±ì…ë‹ˆë‹¤.', color: 'from-orange-400 to-red-500' },
  ESFP: { name: 'íƒœì–‘ (The Sun)', icon: 'â˜€ï¸', title: 'í•µì¸ì‹¸ ìŠˆí¼ìŠ¤íƒ€', desc: 'ë‹¹ì‹ ì´ ì—†ìœ¼ë©´ ìš°ì£¼ê°€ ì–´ë‘ì›Œìš”. ì–¸ì œë‚˜ ë°ì€ ì—ë„ˆì§€ë¥¼ ë¿œì–´ë‚´ëŠ” ë‹¹ì‹ ì€ íƒœì–‘ ê·¸ ìì²´!', color: 'from-yellow-400 to-orange-500' },
  ENFP: { name: 'ë‚˜ì„  ì€í•˜ (Spiral Galaxy)', icon: 'ğŸŒ€', title: 'ìƒìƒë ¥ í­ë°œ', desc: 'ì–´ë””ë¡œ íŠˆì§€ ëª¨ë¥´ëŠ” ë§¤ë ¥! ë¬´í•œí•œ ê°€ëŠ¥ì„±ê³¼ ì°½ì˜ë ¥ì„ í’ˆê³  íšŒì „í•˜ëŠ” ì•„ë¦„ë‹¤ìš´ ë‚˜ì„  ì€í•˜ì…ë‹ˆë‹¤.', color: 'from-pink-400 to-purple-500' },
  ENTP: { name: 'ìˆ˜ì„± (Mercury)', icon: 'â˜¿ï¸', title: 'ì¬ì¹˜ ë§Œì  ìŠ¤í”¼ë“œ ë ˆì´ì„œ', desc: 'ë¹ ë¥¸ ë‘ë‡Œ íšŒì „ê³¼ ì¬ì¹˜ìˆëŠ” ì…ë‹´! íƒœì–‘ê³„ì—ì„œ ê°€ì¥ ë¹ ë¥¸ ê³µì „ ì†ë„ë¥¼ ìë‘í•˜ëŠ” ìˆ˜ì„±ì…ë‹ˆë‹¤.', color: 'from-gray-300 to-blue-300' },
  ENTJ: { name: 'í™”ì„± (Mars)', icon: 'ğŸ”¥', title: 'ë¶ˆíƒ€ëŠ” ì§€íœ˜ê´€', desc: 'ëª©í‘œë¥¼ í–¥í•œ ë¶ˆêµ´ì˜ ì˜ì§€! ëœ¨ê±°ìš´ ì—´ì •ê³¼ ë¦¬ë”ì‹­ìœ¼ë¡œ ê°œì²™í•´ë‚˜ê°€ëŠ” ë¶‰ì€ í–‰ì„±, í™”ì„±ì…ë‹ˆë‹¤.', color: 'from-red-500 to-orange-700' },
  ESFJ: { name: 'ë‹¬ (The Moon)', icon: 'ğŸŒ•', title: 'ë‹¤ì •í•œ ìˆ˜í˜¸ì', desc: 'ì§€êµ¬ ê³ì„ ë¬µë¬µíˆ ì§€í‚¤ë©° ë°¤ì„ ë¹„ì¶°ì£¼ëŠ” ë”°ëœ»í•¨. ì£¼ë³€ ì‚¬ëŒë“¤ì„ ì„¸ì‹¬í•˜ê²Œ ì±™ê¸°ëŠ” ë‹¹ì‹ ì€ ë‹¬ì…ë‹ˆë‹¤.', color: 'from-yellow-100 to-gray-200' },
  ENFJ: { name: 'ê¶ìˆ˜ìë¦¬ ì„±ìš´ (Lagoon Nebula)', icon: 'âœ¨', title: 'ì¹´ë¦¬ìŠ¤ë§ˆ ë¦¬ë”', desc: 'ë³„ë“¤ì´ íƒ„ìƒí•˜ëŠ” ê³³! ì‚¬ëŒë“¤ì˜ ì ì¬ë ¥ì„ ì´ëŒì–´ë‚´ê³  ì„±ì¥ì‹œí‚¤ëŠ” ì›…ì¥í•œ ê¶ìˆ˜ìë¦¬ ì„±ìš´ì…ë‹ˆë‹¤.', color: 'from-pink-500 to-indigo-500' },
  ESTJ: { name: 'ë¸”ë™í™€ (Black Hole)', icon: 'âš«', title: 'ì—„ê²©í•œ ê´€ë¦¬ì', desc: 'ë²—ì–´ë‚  ìˆ˜ ì—†ëŠ” ê°•ë ¥í•œ ì¤‘ë ¥! ê·œì¹™ê³¼ ì§ˆì„œë¥¼ ì™„ë²½í•˜ê²Œ ì¥ì•…í•˜ëŠ” ì¹´ë¦¬ìŠ¤ë§ˆ, ë¸”ë™í™€ì…ë‹ˆë‹¤.', color: 'from-gray-800 to-black' },
  INTP: { name: 'ì²œì™•ì„± (Uranus)', icon: 'â„ï¸', title: 'ë…íŠ¹í•œ ì²œì¬', desc: 'ë‚¨ë“¤ê³¼ ë‹¤ë¥´ê²Œ ëˆ„ì›Œì„œ ìì „í•˜ëŠ” í–‰ì„±! ë…ì°½ì ì¸ ì‹œê°ìœ¼ë¡œ ìš°ì£¼ë¥¼ ë¶„ì„í•˜ëŠ” ì²œì™•ì„±ì…ë‹ˆë‹¤.', color: 'from-cyan-300 to-blue-400' },
  INFP: { name: 'ì˜¤ë¦¬ì˜¨ ì„±ìš´ (Orion Nebula)', icon: 'ğŸŒŒ', title: 'ëª½í™˜ì ì¸ ì˜ˆìˆ ê°€', desc: 'ë°¤í•˜ëŠ˜ì˜ ë³´ì„! í’ë¶€í•œ ê°ìˆ˜ì„±ê³¼ ì•„ë¦„ë‹¤ìš´ ë‚´ë©´ì„ ì§€ë‹Œ ì‹ ë¹„ë¡œìš´ ì˜¤ë¦¬ì˜¨ ì„±ìš´ì…ë‹ˆë‹¤.', color: 'from-purple-400 to-indigo-600' },
  ISFP: { name: 'ê¸ˆì„± (Venus)', icon: 'ğŸ’', title: 'ìš°ì•„í•œ í‰í™”ì£¼ì˜ì', desc: 'íƒœì–‘ê³„ì˜ ìƒ›ë³„! ê°ê°ì ì´ê³  ì˜¨í™”í•˜ë©° ì•„ë¦„ë‹¤ì›€ì„ ì‚¬ë‘í•˜ëŠ” ë‹¹ì‹ ì€ ê¸ˆì„±ì…ë‹ˆë‹¤.', color: 'from-yellow-300 to-orange-300' },
  INTJ: { name: 'ëª…ì™•ì„± (Pluto)', icon: 'ğŸŒ‘', title: 'ê³ ë…í•œ ì „ëµê°€', desc: 'ë©€ë¦¬ì„œ ì¡°ìš©íˆ í° ê·¸ë¦¼ì„ ê·¸ë¦½ë‹ˆë‹¤. ì‘ì§€ë§Œ í™•ì‹¤í•œ ì¡´ì¬ê°ê³¼ ê¹Šì´ë¥¼ ê°€ì§„ ëª…ì™•ì„±ì…ë‹ˆë‹¤.', color: 'from-gray-400 to-slate-600' },
  ISTP: { name: 'ë°±ìƒ‰ ì™œì„± (White Dwarf)', icon: 'âšª', title: 'ëƒ‰ì² í•œ ì¥ì¸', desc: 'ì‘ì§€ë§Œ ì—„ì²­ë‚œ ë°€ë„ì™€ ì—ë„ˆì§€! íš¨ìœ¨ì ì´ê³  ë…¼ë¦¬ì ì´ë©° ë‚´ì‹¤ì´ ê½‰ ì°¬ ë°±ìƒ‰ ì™œì„±ì…ë‹ˆë‹¤.', color: 'from-blue-100 to-white' },
  INFJ: { name: 'í•´ì™•ì„± (Neptune)', icon: 'ğŸ”±', title: 'ì‹ ë¹„ë¡œìš´ ì˜ˆì–¸ì', desc: 'ê¹Šê³  í‘¸ë¥¸ ë°”ë‹¤ ê°™ì€ ì†ë§ˆìŒ. í†µì°°ë ¥ì´ ë›°ì–´ë‚˜ê³  ì´ìƒì„ ê¿ˆê¾¸ëŠ” ì‹ ë¹„ë¡œìš´ í•´ì™•ì„±ì…ë‹ˆë‹¤.', color: 'from-blue-500 to-blue-800' },
  ISFJ: { name: 'ì§€êµ¬ (Earth)', icon: 'ğŸŒ', title: 'ì„±ì‹¤í•œ í‰í™”ì§€í‚´ì´', desc: 'ìƒëª…ì„ í’ˆì€ ë”°ëœ»í•œ ëŒ€ì§€. ë¬µë¬µíˆ ì±…ì„ì„ ë‹¤í•˜ë©° ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ì†Œì¤‘í•œ í–‰ì„±, ì§€êµ¬ì…ë‹ˆë‹¤.', color: 'from-green-400 to-blue-500' },
  ISTJ: { name: 'í† ì„± (Saturn)', icon: 'ğŸª', title: 'ì›ì¹™ì£¼ì˜ì', desc: 'ì•„ë¦„ë‹µê³  ê²¬ê³ í•œ ê³ ë¦¬ì²˜ëŸ¼! ì² ì €í•œ ê³„íšê³¼ ì›ì¹™ìœ¼ë¡œ í”ë“¤ë¦¼ ì—†ì´ ê¶¤ë„ë¥¼ ë„ëŠ” í† ì„±ì…ë‹ˆë‹¤.', color: 'from-yellow-600 to-brown-700' },
};

// ì§ˆë¬¸ ë¦¬ìŠ¤íŠ¸
const QUESTIONS = [
  // 1ë‹¨ê³„: E vs I
  { id: 1, step: 'Energy', type: 'E', text: "ì¼ì • ì—†ëŠ” ë‚ ì—ë„\nì£¼ë³€ ì†ŒìŒì´ë‚˜ ì‚¬ëŒ ì›€ì§ì„ì´\nì¢€ ìˆì–´ì•¼ í¸ì•ˆí•œê°€ìš”?", target: 'E' },
  { id: 2, step: 'Energy', type: 'E', text: "í•˜ë£¨ ì¢…ì¼ ë§ ì—†ì´ ìˆìœ¼ë©´\nì…ì— ê°€ì‹œê°€ ë‹ëŠ” ê²ƒì²˜ëŸ¼\në‹µë‹µ~í•œ ëŠë‚Œì´ ë“œë‚˜ìš”?", target: 'E' },
  { id: 3, step: 'Energy', type: 'E', text: "ìƒˆë¡œìš´ ê³³ì— ê°€ë©´\n'ì—¬ê¸° ë¶„ìœ„ê¸° ì–´ë•Œ?' í•˜ê³ \nìŠ¤ìº”ë¶€í„° ì«™~ í•˜ì‹œë‚˜ìš”?", target: 'E' },
  
  // 2ë‹¨ê³„: S vs N
  { id: 4, step: 'Recognition', type: 'S', text: "ì²˜ìŒ ë³´ëŠ” ë¬¼ê±´ ë°œê²¬!\n'ì¼ë‹¨ ì´ê²Œ ë­ì— ì“°ëŠ” ê±°ì§€?'\nì‚¬ìš©ë²•ë¶€í„° í™•ì¸í•˜ë‚˜ìš”?", target: 'S' },
  { id: 5, step: 'Recognition', type: 'S', text: "ìƒˆ ì¼ì„ ì‹œì‘í•  ë•Œ,\ní° ê·¸ë¦¼ë³´ë‹¤ëŠ” 'ì§€ê¸ˆ ë‹¹ì¥ í•  ì¼'\në¦¬ìŠ¤íŠ¸ê°€ ë¨¼ì € ë– ì˜¤ë¥´ë‚˜ìš”?", target: 'S' },
  { id: 6, step: 'Recognition', type: 'S', text: "ë¨¼ ë¯¸ë˜ì˜ ëŒ€ë°• ê°€ëŠ¥ì„±ë³´ë‹¨\n'ì§€ê¸ˆ ë‚´ ëˆˆì•ì˜ í˜„ì‹¤'ì´\ní›¨ì”¬ ì¤‘ìš”í•œê°€ìš”?", target: 'S' },

  // 3ë‹¨ê³„: T vs F
  { id: 7, step: 'Decision', type: 'T', text: "ì¹œêµ¬ê°€ ìš°ìš¸í•´í•˜ë©´\nìœ„ë¡œë³´ë‹¤ëŠ” 'í•´ê²°ì±…'ì´ ë¨¼ì €\nì… ë°–ìœ¼ë¡œ íŠ€ì–´ë‚˜ì˜¤ë‚˜ìš”?", target: 'T' },
  { id: 8, step: 'Decision', type: 'T', text: "ê·œì¹™ ì ìš©í•  ë•Œ,\n'ì‚¬ì • ë´ì£¼ëŠ” ê²ƒ'ë³´ë‹¤ëŠ”\n'ê³µí‰í•¨'ì´ ì§±ì´ë¼ê³  ë³´ë‚˜ìš”?", target: 'T' },
  { id: 9, step: 'Decision', type: 'T', text: "ìƒëŒ€ê°€ ê¸°ë¶„ ìƒí•  ìˆ˜ ìˆì–´ë„,\nì—…ë¬´ ì •í™•ì„±ì„ ìœ„í•´ ì˜ëª»ì„\nì§ì„¤ì ìœ¼ë¡œ ì§€ì í•˜ëŠ” í¸ì¸ê°€ìš”?", target: 'T' },

  // 4ë‹¨ê³„: J vs P
  { id: 10, step: 'Life', type: 'J', text: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ì¼ì • ë³€ê²½?!\nê³„íš í‹€ì–´ì§€ë©´\nìŠ¤íŠ¸ë ˆìŠ¤ ì§€ìˆ˜ í™• ì˜¤ë¥´ë‚˜ìš”?", target: 'J' },
  { id: 11, step: 'Life', type: 'J', text: "ë§ˆê° ì§ì „ì˜ ë˜¥ì¤„(?)\në³´ë‹¤ëŠ” ë¯¸ë¦¬ë¯¸ë¦¬ ëë‚´ë†“ëŠ” ê²Œ\në§ˆìŒ í¸í•œê°€ìš”?", target: 'J' },
  { id: 12, step: 'Life', type: 'J', text: "ì—¬í–‰ ê°ˆ ë•Œ,\n'ë°œê¸¸ ë‹¿ëŠ” ëŒ€ë¡œ' ë³´ë‹¤ëŠ”\n'ë§›ì§‘ ë¦¬ìŠ¤íŠ¸'ê°€ í•„ìˆ˜ì¸ê°€ìš”?", target: 'J' },
];

export default function App() {
  const [currentStep, setCurrentStep] = useState('intro'); // intro, test, result
  const [qIndex, setQIndex] = useState(0);
  const [scores, setScores] = useState({ E: 0, S: 0, T: 0, J: 0 }); // Keyê°’ì´ Yesì¼ ë•Œ ì¦ê°€
  
  // ì§„í–‰ë¥  ê³„ì‚°
  const progress = Math.min(((qIndex) / QUESTIONS.length) * 100, 100);

  // í…ŒìŠ¤íŠ¸ ì‹œì‘ í•¨ìˆ˜
  const startTest = () => {
    setCurrentStep('test');
    setQIndex(0);
    setScores({ E: 0, S: 0, T: 0, J: 0 });
  };

  // í™ˆ(ì¸íŠ¸ë¡œ)ìœ¼ë¡œ ëŒì•„ê°€ëŠ” í•¨ìˆ˜
  const goHome = () => {
    setCurrentStep('intro');
    setQIndex(0);
    setScores({ E: 0, S: 0, T: 0, J: 0 });
  };

  const handleAnswer = (isYes) => {
    const currentQ = QUESTIONS[qIndex];
    
    // ì ìˆ˜ ì—…ë°ì´íŠ¸ (Yesì¼ ê²½ìš° í•´ë‹¹ íƒ€ì… ì ìˆ˜ ì¦ê°€)
    if (isYes) {
      setScores(prev => ({ ...prev, [currentQ.target]: prev[currentQ.target] + 1 }));
    }

    // ë‹¤ìŒ ë‹¨ê³„ë¡œ
    if (qIndex < QUESTIONS.length - 1) {
      setQIndex(prev => prev + 1);
    } else {
      setCurrentStep('result');
    }
  };

  const getResult = () => {
    // 3ë¬¸ì œ ì¤‘ 2ë¬¸ì œ ì´ìƒì´ë©´ í•´ë‹¹ ì„±í–¥, ì•„ë‹ˆë©´ ë°˜ëŒ€ ì„±í–¥
    const E_or_I = scores.E >= 2 ? 'E' : 'I';
    const S_or_N = scores.S >= 2 ? 'S' : 'N';
    const T_or_F = scores.T >= 2 ? 'T' : 'F';
    const J_or_P = scores.J >= 2 ? 'J' : 'P';
    
    const mbti = `${E_or_I}${S_or_N}${T_or_F}${J_or_P}`;
    return { mbti, data: PLANET_RESULTS[mbti] };
  };

  // --- ì»´í¬ë„ŒíŠ¸ë“¤ ---

  // 1. ì¸íŠ¸ë¡œ í™”ë©´
  const IntroScreen = () => (
    <div className="flex flex-col items-center justify-center h-full text-center p-6 space-y-8 animate-fade-in">
      <div className="bg-white/10 p-6 rounded-full border border-white/20 shadow-[0_0_50px_rgba(255,255,255,0.3)] mb-4">
        <Sparkles size={80} className="text-yellow-300 animate-pulse" />
      </div>
      <h1 className="text-4xl md:text-6xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 drop-shadow-lg">
        ë‚˜ì˜ ìš°ì£¼ì <br/>ë³¸ìº ì°¾ê¸°
      </h1>
      <p className="text-xl md:text-2xl text-blue-100 font-light leading-relaxed">
        ê´‘í™œí•œ ìš°ì£¼ ì†,<br/>
        ë‹¹ì‹ ì€ ì–´ë–¤ í–‰ì„±ì—ì„œ ì™”ì„ê¹Œìš”?
      </p>
      <button 
        onClick={startTest}
        className="group relative px-10 py-5 bg-white/20 hover:bg-white/30 border border-white/40 rounded-3xl backdrop-blur-md transition-all duration-300 shadow-xl hover:shadow-purple-500/50 hover:scale-105 active:scale-95"
      >
        <span className="text-2xl font-bold text-white flex items-center gap-2">
          ìš°ì£¼ ì—¬í–‰ ì‹œì‘í•˜ê¸° <ArrowRight className="group-hover:translate-x-1 transition-transform" />
        </span>
      </button>
    </div>
  );

  // 2. ì§ˆë¬¸ í™”ë©´
  const TestScreen = () => {
    const q = QUESTIONS[qIndex];
    // ë‹¨ê³„ í‘œì‹œ (ì´ 4ë‹¨ê³„)
    const stepTitle = qIndex < 3 ? "1ë‹¨ê³„ : ì—ë„ˆì§€ ë°©í–¥" : 
                      qIndex < 6 ? "2ë‹¨ê³„ : ì¸ì‹ ë°©ì‹" : 
                      qIndex < 9 ? "3ë‹¨ê³„ : íŒë‹¨ ê¸°ì¤€" : "4ë‹¨ê³„ : ìƒí™œ ì–‘ì‹";

    return (
      <div className="w-full max-w-2xl mx-auto h-full flex flex-col justify-center p-6 animate-fade-in">
        {/* ì§„í–‰ë°” */}
        <div className="w-full bg-gray-700/50 rounded-full h-3 mb-8 backdrop-blur-sm border border-white/10">
          <div 
            className="bg-gradient-to-r from-blue-400 to-purple-500 h-3 rounded-full transition-all duration-500 ease-out shadow-[0_0_10px_rgba(168,85,247,0.7)]" 
            style={{ width: `${progress}%` }}
          ></div>
        </div>

        {/* ì§ˆë¬¸ ì¹´ë“œ */}
        <div className="bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-8 md:p-12 shadow-2xl relative overflow-hidden">
          {/* ì¥ì‹ìš© ë°°ê²½ ì› */}
          <div className="absolute -top-10 -left-10 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl"></div>
          <div className="absolute -bottom-10 -right-10 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl"></div>

          <div className="relative z-10 text-center space-y-8">
            <span className="inline-block px-4 py-1 rounded-full bg-white/10 border border-white/20 text-blue-200 text-sm md:text-base font-medium mb-4">
              {stepTitle} ({Math.min(3, (qIndex % 3) + 1)}/3)
            </span>
            
            <h2 className="text-2xl md:text-4xl font-bold text-white leading-normal break-keep whitespace-pre-line">
              {q.text}
            </h2>
            
            <div className="flex flex-col gap-4 mt-8 pt-4">
              <button 
                onClick={() => handleAnswer(true)}
                className="w-full py-5 rounded-2xl bg-gradient-to-r from-blue-500/80 to-blue-600/80 hover:from-blue-400 hover:to-blue-500 text-white text-2xl font-bold transition-all transform hover:-translate-y-1 shadow-lg border border-white/20"
              >
                YES! (ê·¸ë ‡ë‹¤)
              </button>
              <button 
                onClick={() => handleAnswer(false)}
                className="w-full py-5 rounded-2xl bg-white/10 hover:bg-white/20 text-white text-xl font-medium transition-all transform hover:-translate-y-1 shadow-lg border border-white/20"
              >
                NO (ì•„ë‹ˆë‹¤)
              </button>
            </div>
          </div>
        </div>
      </div>
    );
  };

  // 3. ê²°ê³¼ í™”ë©´
  const ResultScreen = () => {
    const { mbti, data } = getResult();

    return (
      <div className="w-full h-full flex flex-col items-center justify-center p-6 animate-fade-in overflow-y-auto">
        <div className="w-full max-w-md bg-white/10 backdrop-blur-2xl border border-white/30 rounded-3xl p-8 text-center shadow-[0_0_60px_rgba(0,0,0,0.5)] relative">
          
          {/* ê²°ê³¼ ë±ƒì§€ */}
          <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-pink-500 to-violet-500 px-6 py-2 rounded-full shadow-lg border border-white/30">
            <span className="text-white font-black tracking-widest text-lg">{mbti}</span>
          </div>

          {/* í–‰ì„± ì•„ì´ì½˜/ë¹„ì£¼ì–¼ */}
          <div className={`w-40 h-40 mx-auto mt-8 mb-6 rounded-full bg-gradient-to-br ${data.color} shadow-[0_0_40px_rgba(255,255,255,0.4)] flex items-center justify-center text-7xl animate-bounce-slow border-4 border-white/20`}>
            {data.icon}
          </div>

          <h2 className="text-3xl md:text-4xl font-black text-white mb-2">{data.name}</h2>
          <p className="text-blue-200 text-lg font-bold mb-6">{data.title}</p>
          
          <div className="bg-black/30 rounded-xl p-6 mb-8 border border-white/10">
            <p className="text-white text-xl leading-relaxed break-keep">
              {data.desc}
            </p>
          </div>

          <div className="flex flex-col gap-3">
            <button 
              onClick={goHome}
              className="w-full py-4 bg-white text-purple-900 rounded-xl font-bold text-xl hover:bg-purple-50 transition-colors flex items-center justify-center gap-2 shadow-lg"
            >
              <Home size={24} /> ì²˜ìŒ í™”ë©´ìœ¼ë¡œ
            </button>
          </div>
        </div>
      </div>
    );
  };

  // ê³µí†µ CSS ì• ë‹ˆë©”ì´ì…˜ì„ Reactì˜ `<style>` ì»´í¬ë„ŒíŠ¸ ëŒ€ì‹  ì¼ë°˜ `<style>` íƒœê·¸ë¡œ ë³€ê²½í•˜ì—¬ ê²½ê³ ë¥¼ ì œê±°í•©ë‹ˆë‹¤.
  const commonStyles = `
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes bounce-slow {
      0%, 100% { transform: translateY(-5px); }
      50% { transform: translateY(5px); }
    }
    .animate-fade-in {
      animation: fade-in 0.5s ease-out forwards;
    }
    .animate-bounce-slow {
      animation: bounce-slow 3s infinite ease-in-out;
    }
    .animate-pulse-slow {
      animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
  `;

  return (
    <div className="min-h-screen w-full bg-[#0a0a2a] text-white font-sans overflow-hidden relative selection:bg-purple-500 selection:text-white">
      {/* ìš°ì£¼ ë°°ê²½ íš¨ê³¼ (CSS only for performance) */}
      <div className="fixed inset-0 z-0 pointer-events-none">
        <div className="absolute top-0 left-0 w-full h-full bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-slate-900 via-[#0a0a2a] to-black"></div>
        <div className="absolute top-1/4 left-1/4 w-96 h-96 bg-purple-600/20 rounded-full blur-[100px] animate-pulse-slow"></div>
        <div className="absolute bottom-1/4 right-1/4 w-80 h-80 bg-blue-600/20 rounded-full blur-[100px] animate-pulse-slow delay-1000"></div>
        {/* ë³„ë“¤ (ê°€ìƒ) */}
        <div className="absolute top-10 right-10 text-yellow-100/40 text-xs">âœ¦</div>
        <div className="absolute bottom-20 left-10 text-blue-100/40 text-xl">â˜…</div>
        <div className="absolute top-1/2 left-10 text-white/20 text-sm">.</div>
        <div className="absolute bottom-10 right-1/3 text-white/30 text-xs">.</div>
      </div>

      {/* ë©”ì¸ ì½˜í…ì¸  ì˜ì—­ */}
      <div className="relative z-10 w-full h-screen flex flex-col">
        {currentStep === 'intro' && <IntroScreen />}
        {currentStep === 'test' && <TestScreen />}
        {currentStep === 'result' && <ResultScreen />}
      </div>

      {/* CSS ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ (ê²½ê³  ì œê±°ë¥¼ ìœ„í•´ ë¶„ë¦¬) */}
      <style dangerouslySetInnerHTML={{ __html: commonStyles }} />
    </div>
  );
}